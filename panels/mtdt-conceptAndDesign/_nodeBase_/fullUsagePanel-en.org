* B|
####+BEGIN: bxPanel:common/title-plus
#+title: mailings/mtdt-conceptAndDesign
#+roam_tags: branch
#+roam_key: mail/mailings/mtdt-conceptAndDesign
[[roam:mail/mailings]]
####+END
####+BEGIN: blee:bxPanel:topPanelControls
*  [[elisp:(org-cycle)][|#Control|]] :: [[elisp:(blee:bnsm:menu-back)][Back]] [[elisp:(toggle-read-only)][read/wr]] | [[elisp:(show-all)][Show-All]]  [[elisp:(org-shifttab)][Overview]]  [[elisp:(progn (org-shifttab) (org-content))][Content]] | [[elisp:(delete-other-windows)][(1)]] | [[elisp:(progn (save-buffer) (kill-buffer))][S&Q]] [[elisp:(save-buffer)][Save]] [[elisp:(kill-buffer)][Quit]] [[elisp:(bury-buffer)][Bury]]  [[elisp:(magit)][Magit]]  [[elisp:(org-cycle)][| ]]
**  [[elisp:(bap:magit:bisos:current-bpo-repos/visit)][BPO-Repos-Magit]] ||
**  [[elisp:(blee:buf:re-major-mode)][Re-Major-Mode]] ||  [[elisp:(org-dblock-update-buffer-bx)][Update Buf Dblocks]] || [[elisp:(org-dblock-bx-blank-buffer)][Blank Buf Dblocks]] || [[elisp:(bx:panel:variablesShow)][bx:panel:variablesShow]]
**  [[elisp:(blee:menu-sel:comeega:maintenance:popupMenu)][||Maintenance]]
**  This File :: *= /bisos/git/auth/bxRepos/blee-binders/blee-core/mail/mailings/mtdt-conceptAndDesign/_nodeBase_/fullUsagePanel-en.org =*
*  [[elisp:(org-cycle)][|#Select|]]  :: (Results: [[elisp:(blee:bnsm:results-here)][Here]] | [[elisp:(blee:bnsm:results-split-below)][Below]] | [[elisp:(blee:bnsm:results-split-right)][Right]] | [[elisp:(blee:bnsm:results-other)][Other]] | [[elisp:(blee:bnsm:results-popup)][Popup]]) (Select:  [[elisp:(lsip-local-run-command "lpCurrentsAdmin.sh -i currentsGetThenShow")][Show Currents]]  [[elisp:(lsip-local-run-command "lpCurrentsAdmin.sh")][lpCurrentsAdmin.sh]] ) [[elisp:(org-cycle)][| ]]
**  #See:  (Window: [[elisp:(blee:bnsm:results-window-show)][?]] | [[elisp:(blee:bnsm:results-window-set 0)][0]] | [[elisp:(blee:bnsm:results-window-set 1)][1]] | [[elisp:(blee:bnsm:results-window-set 2)][2]] | [[elisp:(blee:bnsm:results-window-set 3)][3]] ) || [[elisp:(lsip-local-run-command-here "echo pushd dest")][echo pushd dir]] || [[elisp:(lsip-local-run-command-here "lsf")][lsf]] || [[elisp:(lsip-local-run-command-here "pwd")][pwd]] |
**  [[elisp:(org-cycle)][|#Destinations|]] :: [[Evolution]] | [[Maintainers]]  [[elisp:(org-cycle)][| ]]
**  #See:  [[elisp:(bx:bnsm:top:panel-blee)][Blee]] | [[elisp:(bx:bnsm:top:panel-listOfDocs)][All Docs]]  E|
####+END
####+BEGIN: blee:bxPanel:title :panelType "=bxPanel=" :title "auto"
* [[elisp:(show-all)][(>]] ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
*   [[img-link:file:/bisos/blee/env/images/fpfByStarElipseTop-50.png][http://www.freeprotocols.org]]_ _   ~Node:: mtdt/panels -- mtdt-conceptAndDesign~   [[img-link:file:/bisos/blee/env/images/fpfByStarElipseBottom-50.png][http://www.by-star.net]]
* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  [[elisp:(org-shifttab)][<)]] E|
####+END:
####+BEGIN: blee:bxPanel:terseTreeNavigator :panelsList "bxPanel"
* [[elisp:(show-all)][(>]] [[elisp:(describe-function 'org-dblock-write:blee:bxPanel:terseTreeNavigator)][dbf]]
* [[elisp:(show-all)][|n]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_   General Panels ::   [[img-link:file:/bisos/blee/env/images/bystarInside.jpg][http://www.by-star.net]] *|*  [[elisp:(find-file "/libre/ByStar/InitialTemplates/activeDocs/listOfDocs/fullUsagePanel-en.org")][BxDE Top Panel]] *|* [[elisp:(blee:bnsm:panel-goto "/libre/ByStar/InitialTemplates/activeDocs/planning/Main")][ByStar Planning]]

*   *Siblings*   :: [[elisp:(blee:bnsm:panel-goto "/bisos/git/auth/bxRepos/blee-binders/blee-core/mail/mailings/distributions/_nodeBase_")][ =distributions= ]] *|* [[elisp:(blee:bnsm:panel-goto "/bisos/git/auth/bxRepos/blee-binders/blee-core/mail/mailings/mtdt-conceptAndDesign/_nodeBase_")][ =mtdt-conceptAndDesign= ]] *|* [[elisp:(blee:bnsm:panel-goto "/bisos/git/auth/bxRepos/blee-binders/blee-core/mail/mailings/mtdt-usage/_nodeBase_")][ =mtdt-usage= ]] *|* [[elisp:(blee:bnsm:panel-goto "/bisos/git/auth/bxRepos/blee-binders/blee-core/mail/mailings/names/_nodeBase_")][ =names= ]] *|*
*   /Ancestors/  :: [[elisp:(blee:bnsm:panel-goto "/bisos/git/auth/bxRepos/blee-binders/blee-core/mail/mailings/_nodeBase_")][ =mailings= ]] *|* [[elisp:(blee:bnsm:panel-goto "/bisos/git/auth/bxRepos/blee-binders/blee-core/mail/_nodeBase_")][ =mail= ]] *|* [[elisp:(blee:bnsm:panel-goto "/bisos/git/auth/bxRepos/blee-binders/blee-core/_nodeBase_")][ =blee-core= ]] *|* [[elisp:(blee:bnsm:panel-goto "/bisos/git/auth/bxRepos/blee-binders/_nodeBase_")][ =blee-binders= ]] *|*
*                                   _━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━_                          [[elisp:(org-shifttab)][<)]] E|
####+END
####+BEGIN: blee:bxPanel:foldingSection :outLevel 1 :title "Overview" :anchor "Panel"
* [[elisp:(show-all)][(>]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_       [[elisp:(outline-show-subtree+toggle)][| *Overview:* |]] <<Panel>>   [[elisp:(org-shifttab)][<)]] E|
####+END
** +
** TODO MARMEE should come here.
** −−−−
** Title of Globish Document: Mail Templating Distribution And Tracking (MTDT) With
** Emacs/Blee + XeLaTeX + Org + BISOS
** In Conjustion With
** Multi-Account Resident Mail Exchange Environment (MARMEE)
** −−−−
--
** Documentaion From Source:
;;; Given a self-contained mailingFile (usually called content.mail) or within a mailingFile-buffer, using macros, mtdt creates
;;; a series of commands that allow for customized-compostion, sending and distribution of those
;;; messages.
;;;
;;; The mailingFile should be in correct RFC-822 format. For example, you can not have an empty To: field.
;;;
;;; Customized-compostion of mailings, takes of two forms.
;;;  - direct editing -- :extSrcBase nil
;;;  - external source editing -- :extSrcBase "."  -- The result is then
;;;    included in the mailingFile through a dblock.
;;;
;;; Primary command usage interfaces are:
;;; - mtdt:setup-and-compose/with-curBuffer -- Used the mailing buffer -- Uses /with-file  in turn.
;;; - mtdt:setup-and-compose/with-file  -- Used in Blee Panels
;;; - mtdt:setup/with-curBuffer -- Just create the mailing ffunction as mtdt:compose/mailingName.
;;;
;;; Compose results into a new frame and a ready buffer in a /tmp ephemera base.
** Mailing Categories:
1) Editable -- Starting point for Composing -- Text or internal html
1.1) Editable-With-External-Source
3) Static -- Ready to be sent -- static content -- No editing
4) Dynamic -- Ready to be sent -- templated content -- info inserted at execution time.
** B|
* +
* Pkgs Base: file:/bisos/git/bxRepos/blee/mcdt   -- To be replaqced by mtdt
* Pkgs Base: file:/bisos/git/bxRepos/blee/mtdt
* Mailing LCNT Templates: file:/bisos/apps/defaults/mailing/compose/enFa/lcntMailing
* B|
####+BEGIN: blee:bxPanel:linkWithTreeElem :agenda nil :sep t :outLevel 2 :model "auto" :foldDesc "Relevant Resource" :destDesc "auto" :dest "/bisos/git/auth/bxRepos/blee-binders/bisos-apps/marmee/_nodeBase_"
* /[[elisp:(beginning-of-buffer)][|^]] [[elisp:(blee:menu-sel:navigation:popupMenu)][==]] [[elisp:(delete-other-windows)][|1]]/
* [[elisp:(show-all)][(>]] [[elisp:(blee:menu-sel:outline:popupMenu)][+-]] [[elisp:(blee:menu-sel:navigation:popupMenu)][==]] [[elisp:(blee:bnsm:panel-goto "/bisos/git/auth/bxRepos/blee-binders/bisos-apps/marmee/_nodeBase_")][@ ~marmee~ @]]  [[elisp:(org-cycle)][| *=* |]] ::  <<Relevant Resource>> [[elisp:(org-shifttab)][<)]] E|
####+END
####+BEGIN: blee:bxPanel:foldingSection :outLevel 1 :sep t :title "Mail Templating, Distrubution And Tracking -- BLEE and BISOS Design Overview" :anchor "" :extraInfo ""
* /[[elisp:(beginning-of-buffer)][|^]]  [[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]] [[elisp:(delete-other-windows)][|1]]/
* [[elisp:(show-all)][(>]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_       [[elisp:(outline-show-subtree+toggle)][| *Mail Templating, Distrubution And Tracking -- BLEE and BISOS Design Overview:* |]]    [[elisp:(org-shifttab)][<)]] E|
####+END
** +
** Consists Of Two Parts:
*** 1) Blee-MTDT-Pkg -- Given a mailing file, creates functions for sending of that mailing
*** 2) BISOS-MTDT-APP -- Creates the mailing and needed framework for editing the content
** B|
####+BEGIN: blee:bxPanel:foldingSection :outLevel 1 :sep t :title "MTDT Model" :anchor "" :extraInfo "Figure"
* /[[elisp:(beginning-of-buffer)][|^]]  [[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]] [[elisp:(delete-other-windows)][|1]]/
* [[elisp:(show-all)][(>]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_       [[elisp:(outline-show-subtree+toggle)][| *MTDT Model:* |]]  Figure  [[elisp:(org-shifttab)][<)]] E|
####+END

#+CAPTION: MTDT Model --  C-c C-x C-v (org-toggle-inline-images)
#+NAME:   fig:images/mtdtModel.jpg
#+ATTR_HTML: :width 1100px
[[/bisos/git/bxRepos/blee/mtdt/images/mtdtModel.jpg]]

####+BEGIN: blee:bxPanel:foldingSection :outLevel 1 :sep t :title "Concepts and Terminology" :anchor "" :extraInfo "Concept of Mailing -- A Mail Template"
* /[[elisp:(beginning-of-buffer)][|^]]  [[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]] [[elisp:(delete-other-windows)][|1]]/
* [[elisp:(show-all)][(>]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_       [[elisp:(outline-show-subtree+toggle)][| *Concepts and Terminology:* |]]  Concept of Mailing -- A Mail Template  [[elisp:(org-shifttab)][<)]] E|
####+END
** +
** ======= /MailingsOrTemplate/
** SourceFiles: b:mtdt:mailings.el
** Examples:
** ------
** MailingOrTemplate File :: A sinlge file that is either a "Mailing File" or a "Template File"
** Mailing File :: A file containing the entirety of a message =WITHOUT recipients=
** Template File :: A file containing the entirety of a message =including a to: field=
** MailingName :: A lisp symbol string that is a field of MailingOrTemplate and identifies it
** Derived Commands :: Derivation of ComposeOrOriginate commands called MailingName from MailingOrTemplate
** -----
** ComposeOrOriginate Commands :: A Compose Command or an Originate Command
** Compose :: Editable Header and Body -- When composeFrwrk=LaTeX  it is replicated from Template
** Originate :: Editable Header, Body to be considered as readonly
** -----
** [[elisp:(describe-variable 'b:mtdt:mailings:selected)]]  ~Current Mailings~
** ======= /Mailings Fields/
** SourceFiles: b:mtdt:mailings.el
** Examples:
** ------
** x-composeFrwrk --- One of text, orgMsg, html, latex-html
** ========= /Recipients/
** SourceFiles: [[elisp:(locate-library "b:mtdt:recipients.el")]]
** Examples: file:../../../examples/recipientsList.el
** --------
** Recipients :: One set of To, Cc and Bcc specifications for a Mailing
** RecipientsList :: List of Recipietns
** file-recips.el :: A lisp form as a list of forms
** [[elisp:(describe-variable 'b:mtdt:recipients:selected)]]   ~Current Recipients~
** ========  /oorr/
** Originator or Recipient -- Borrowed from X.400
** ========= /Names/
** SourceFiles: [[elisp:(find-library "b:mtdt:names")]]
** Examples:
** -----
** Sending :: Pairing of Mailing and Recipients controlled by b:mtdt:send:extent
** [[elisp:(describe-variable 'b:mtdt:send:extent)]]
** ========= /BBDB3/
** SourceFiles: [[elisp:(find-library "b:mtdt:bbdb3")]]
** Examples:
** -----
** Sending :: Pairing of Mailing and Recipients controlled by b:mtdt:send:extent
** [[elisp:(describe-variable 'b:mtdt:send:extent)]]
** ========= /Sending/
** SourceFiles: [[elisp:(locate-library "b:mtdt:send.el")]]
** Examples:
** -----
** Sending :: Pairing of Mailing and Recipients controlled by b:mtdt:send:extent
** [[elisp:(describe-variable 'b:mtdt:send:extent)]]
** ========= /Distributions/
** SourceFiles: [[elisp:(find-library "b:mtdt:distr")]]
** Examples:
** -----
** Distribution :: Pairing of Mailing and RecipientsList controlled by b:mtdt:send:extent
** [[elisp:(describe-variable 'b:mtdt:send:extent)]]
** ========= /Menus/
** SourceFiles: [[elisp:(find-library "b:mtdt:menu")]]
** Examples:
** -----
** ========= /DBlocks/
** SourceFiles: [[elisp:(find-library "dblock-mtdt")]]
** Examples:
** -----
** -
** ######################################
** how Mailings Work? Mailing Abstractions

The primary abstractions are:
- A Mailing-Base Directory -- in theory this can be  anywhere.
  Usually created with bueMailingSetup.sh
- A Mailing is a read-only static representation of parameters of an outgoing email. It is a single file.
- A Mailing-File is a valid emacs mail file with specific X- fields which derive outgoing email.
- Mailing-File-Naming Conventions: mailingName-gmail.mail, mailingName-byname.orgMsg
- Mailing-to-Commands Setup -- Converts Mailing-File to set of Mailing-Commands for Mailing-Execution.

- Mailing-Derived-Commands -- defmacro generated with "X-Mailing-Name: mailingName" as some of:
All derived commands start as "mtdt:d"

  1) mtdt:d:compose/mailingName   -- Creates an unsent buffer for content editing with perhaps ephemera extSrc
  2) mtdt:d:originate/mailingName -- Creates an unsent buffer for header editing without ephemera extSrc
  3) mtdt:d:redraft/mailingName    -- subjetc to ctl u edits the current "unsent mail"
  4) mtdt:d:batch/mailingName
  5) x bbdb
  6) web-url web-mailto

     Some of these commands receive interactive args that are
     implemented in the old bxms-compose-from-base.
     TODO: these need to be revisited and documented.

  As to which of the above is generated is controlded by :type field of X-MailingParams:

- A Mailing-Buffer -- A mail buffer, created using Mailing-File. Not the buffer of Mailing-File.

** Mailing Content Types, plain-text, latex-html, orgMsg
*** +
*** plain-text    -- Directly editable           -- compose=originate
*** latex-html    -- Editable only with compose  -- use originate when body need not be edited
*** html          -- Directly editable           -- Perhaps later with polymode and html-mode
*** orgMsg        -- Directly editable           -- compose=originate-
*** B|

** Mailing Derived Commands Conversion and Invocation Model
*** +
*** A mailing file needs to be converted to a Mailing-Derived-Command before being invoked.
*** The conversion can be combined with the invokation.
*** The conversion can be either interactive or in batch. When in batch it is called Distribution.
*** The interactive combined conversion+invocation is facilitated with bxPanel:mailing/compose dblock.
*** The interactive combined conversion+invocation is typically accessed using relams general.org
*** B|

** Mailing Invocation Context dist | originate | compose | redraft | static | dynamic

- Mailing-Invocation -- The user's act of executing a Mailing-Command is called: Mailing-Invocation.
  A mailing can be invoked in different ways and the fact of specific invocation is captured
  in the 822-bus with "X-mailing-invocation: commandNameComesHere"

- Mailing-Invocation-Args -- Each Mailing-Invocation can carry with it a number of elisp command args.
  The args are then carrierd through mtdt-if.el and passed to the old bxms-compose-from-base

  An Unsent-Mailing is a buffer generated from a Mailing-File that can be sent.
- :extSrc param of X-MailingParams is used for External-Source-Content -- LaTeX-Body
- mailing.ttytex/mailing.mastex -- content of a mailing.


** Mailing File Fields and Descriptions
*** +
*** X-MailingName:  120077-genAnnounce-us-let-withBook
X-MailingDoc: 120077-genAnnounce-us-let-withBook
X-MailingParams: :type originate :extSrcBase "."
X-ComposeFwrk: msgOrg
X-Message-SMTP-Method: qmail
*** B|

** Mailing Field: X-MailingName
*** +
*** X-Mailing-Name: is used for creation of Mailing-Commands
*** B|

** Mailing Field: X-MailingParams
X-MailingParams: is in the format of literal named args
*** +
*** :extSrcBase "." -- :extSrcBase nil
     When :extSrcBase is nil --- Mailing-File is editable and is self contained
     When :extSrcBase is path --- Some of the content of Mailing-File comes from content of path
*** :type is one of 'compose | 'redraft | 'dynamic
****      When :type id 'compose --- The mailing can also be editable
        The following commands are generated:
        mtdt:compose, mtdt:originate/mailingName,

****      When :type id 'redraft --- content of mailing-file can be applied to current unsent buffer
        Foe example re-uses current unsent buffer's subject line ... Used for replying
        The following commands are generated:
        mtdt:compose/mailingName, mtdt:originate/mailingName
****      When :type id 'dynamic --- indicates that the mailing is a form letter
        For example re-uses current unsent buffer's subject line ... Used for replying
        The following commands are generated:
        mtdt:originate/mailingName
***  Mailing-Ext-Src --latex src for content editing

*** B|
** Interactive Mailing Invocations --- originate / compose / x-in-bbdb / web-mailto / in-replying
*** +
*** originate
*** compose
*** x-in-bbdb
*** web-mailto --- by clicking on mailto:url
*** in-replying, subjetc to ctl u edits the current "unsent mail" -- for typical responces, keeping subject
*** in-forwards, subjetc to ctl u edits the current "unsent mail" -- for typical responces, keeping subject
*** B|
** B|

####+BEGIN: blee:bxPanel:foldingSection :outLevel 1 :sep t :title "Concept of Distribution, oorr, Recepients and Names" :anchor "" :extraInfo ""
* /[[elisp:(beginning-of-buffer)][|^]]  [[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]] [[elisp:(delete-other-windows)][|1]]/
* [[elisp:(show-all)][(>]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_       [[elisp:(outline-show-subtree+toggle)][| *Concept of Distribution, oorr, Recepients and Names:* |]]    [[elisp:(org-shifttab)][<)]] E|
####+END
** +
** A distribution is a batch invocation of a mailing
** An oorr provides an address
** Recepients:
** Names:
** B|
**  [[elisp:(org-cycle)][| ]]  /Overview/   ::    [[elisp:(org-cycle)][| ]]
***    ========  /Key Pure Mailing Objects/
       Names are independent of Mailings -- Distributions, combine Mailings and Names
****   ==== /Names/         --  nameProc.sh    -- seedNameDistProc.sh  -- ~/BUE/names
****   ==== /Mailings/      --  mailingProc.sh -- seedMailingProc.sh   -- ~/BUE/mailings
****   ==== /Distributions/ --  distProc.sh    -- seedNameDistProc.sh  -- ~/BUE/mailings/some/dist
       Names are independent of Mailings -- Distributions, combine Mailings and Names
****   ==== /Names/         --  nameProc.sh    -- seedNameDistProc.sh  -- ~/BUE/names
****   ==== /Mailings/      --  mailingProc.sh -- seedMailingProc.sh   -- ~/BUE/mailings
****   ==== /Distributions/ --  distProc.sh    -- seedNameDistProc.sh  -- ~/BUE/mailings/some/dist
***    ========  /Key Lcnt Mailing Objects/
****   ==== /Publishable Lcnt/      --  lcnLcntGens.sh -p form=mailLcnt             -- lcntProc.sh  -- /lcnt/../docName
****   ==== /Private Lcnt/          --  lcnLcntGens.sh -p form=mailLcnt -p nu=000   -- lcntProc.sh  -- /lcnt/../docName
****   ==== /Mailings + Pub Lcnt/   --  bxtStartMailing.sh  -i startObjectGen htmlPubLcnt path -- /lcnt/../docName/mailing
****   ==== /Mailings + Priv Lcnt/  --  bxtStartMailing.sh  -i startObjectGen lcntHtml path -- /lcnt/../docName/mailing
****   ==============
****   ==== /DistBases/  --         mkdir -p .../dist --  /lcnt/../docName/mailing/dist
****   ==== /DistBase/  --          bxtStartDistMail.sh -v -n showRun -i startObjectGen nativeNode .
****   ==== /DistBase + Names/  --  mkdir -p .../names --  /lcnt/../docName/mailing/dist/names
****   ==== /DistBase + Names/  --  bxtStartDistMail.sh -v -n showRun -i startObjectGen namesList .
****   ==== /DistBase + DIST/  --   mkdir -p .../distName --  /lcnt/../docName/mailing/dist/distName
****   ==== /DistBase + DIST/  --   bxtStartDistMail.sh -v -n showRun -i startObjectGen distribution .
***    ========  /Key ~/BUE Mailing Objects/
****   ==== /Names/         --  nameProc.sh    -- seedNameDistProc.sh  -- ~/BUE/names
****   ==== /Distributions/ --  distProc.sh    -- seedNameDistProc.sh  -- ~/BUE/mailings/some/dist
***    ========  /Names/
**** ~basa/names   --- Will Have names Hierarchy with  "nameProc.sh" Based on seedNameDistProc.sh
**** ~basa/names/central  central/templates/nameProc.sh
****  /hss/vc/bbdbNames/central  /hss/vc/bbdbMailings/central
####+BEGIN: blee:bxPanel:foldingSection :outLevel 1 :sep t :title "Mail Header Groupings And Structure" :anchor "" :extraInfo "sender-header, recipient-headers, content-model"
* /[[elisp:(beginning-of-buffer)][|^]]  [[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]] [[elisp:(delete-other-windows)][|1]]/
* [[elisp:(show-all)][(>]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_       [[elisp:(outline-show-subtree+toggle)][| *Mail Header Groupings And Structure:* |]]  sender-header, recipient-headers, content-model  [[elisp:(org-shifttab)][<)]] E|
####+END
** +
** Sender-Headers -- From, X-Mta, Envelope -- Come from aas/marmee/profile
** Recipient-Headers -- To CC BCC
** Subject --
** Msg-Id-Info --
** Content-Model -- orgMsg, message
** Tracking --
** B|
####+BEGIN: blee:bxPanel:foldingSection :outLevel 0 :sep t :title "External Relevant Information" :anchor "" :extraInfo ""
* /[[elisp:(beginning-of-buffer)][|^]]  [[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]] [[elisp:(delete-other-windows)][|1]]/
* [[elisp:(show-all)][(>]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_     [[elisp:(outline-show-subtree+toggle)][| _External Relevant Information_: |]]    [[elisp:(org-shifttab)][<)]] E|
####+END
####+BEGIN: blee:bxPanel:foldingSection :outLevel 2 :sep t :title "Mailings Delivery Care/Hints/Policy/Procedure" :anchor "" :extraInfo "Increasing Inbox Delivery Rate"
** /[[elisp:(beginning-of-buffer)][|^]]  [[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]] [[elisp:(delete-other-windows)][|1]]/
** [[elisp:(show-all)][(>]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_       [[elisp:(outline-show-subtree+toggle)][| /Mailings Delivery Care/Hints/Policy/Procedure:/ |]]  Increasing Inbox Delivery Rate  [[elisp:(org-shifttab)][<)]] E|
####+END
** +
**             https://support.google.com/mail/answer/81126?hl=en
** B|
####+BEGIN: blee:bxPanel:foldingSection :outLevel 0 :sep t :title "OLD Mailings, Names, Distribution Information" :anchor "" :extraInfo ""
* /[[elisp:(beginning-of-buffer)][|^]]  [[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]] [[elisp:(delete-other-windows)][|1]]/
* [[elisp:(show-all)][(>]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_     [[elisp:(outline-show-subtree+toggle)][| _OLD Mailings, Names, Distribution Information_: |]]    [[elisp:(org-shifttab)][<)]] E|
####+END
####+BEGIN: blee:bxPanel:foldingSection :outLevel 1 :sep t :title "OLD Overview: Names-Mailings-Distributions Model" :anchor "" :extraInfo "Description and Usage"
* /[[elisp:(beginning-of-buffer)][|^]]  [[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]] [[elisp:(delete-other-windows)][|1]]/
* [[elisp:(show-all)][(>]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_       [[elisp:(outline-show-subtree+toggle)][| *OLD Overview: Names-Mailings-Distributions Model:* |]]  Description agnd Usage  [[elisp:(org-shifttab)][<)]] E|
####+END
**  [[elisp:(org-cycle)][| ]]  /Overview/   ::    [[elisp:(org-cycle)][| ]]
***    ========  /Key Pure Mailing Objects/
       Names are independent of Mailings -- Distributions, combine Mailings and Names
****   ==== /Names/         --  nameProc.sh    -- seedNameDistProc.sh  -- ~/BUE/names
****   ==== /Mailings/      --  mailingProc.sh -- seedMailingProc.sh   -- ~/BUE/mailings
****   ==== /Distributions/ --  distProc.sh    -- seedNameDistProc.sh  -- ~/BUE/mailings/some/dist
       Names are independent of Mailings -- Distributions, combine Mailings and Names
****   ==== /Names/         --  nameProc.sh    -- seedNameDistProc.sh  -- ~/BUE/names
****   ==== /Mailings/      --  mailingProc.sh -- seedMailingProc.sh   -- ~/BUE/mailings
****   ==== /Distributions/ --  distProc.sh    -- seedNameDistProc.sh  -- ~/BUE/mailings/some/dist
***    ========  /Key Lcnt Mailing Objects/
****   ==== /Publishable Lcnt/      --  lcnLcntGens.sh -p form=mailLcnt             -- lcntProc.sh  -- /lcnt/../docName
****   ==== /Private Lcnt/          --  lcnLcntGens.sh -p form=mailLcnt -p nu=000   -- lcntProc.sh  -- /lcnt/../docName
****   ==== /Mailings + Pub Lcnt/   --  bxtStartMailing.sh  -i startObjectGen htmlPubLcnt path -- /lcnt/../docName/mailing
****   ==== /Mailings + Priv Lcnt/  --  bxtStartMailing.sh  -i startObjectGen lcntHtml path -- /lcnt/../docName/mailing
****   ==============
****   ==== /DistBases/  --         mkdir -p .../dist --  /lcnt/../docName/mailing/dist
****   ==== /DistBase/  --          bxtStartDistMail.sh -v -n showRun -i startObjectGen nativeNode .
****   ==== /DistBase + Names/  --  mkdir -p .../names --  /lcnt/../docName/mailing/dist/names
****   ==== /DistBase + Names/  --  bxtStartDistMail.sh -v -n showRun -i startObjectGen namesList .
****   ==== /DistBase + DIST/  --   mkdir -p .../distName --  /lcnt/../docName/mailing/dist/distName
****   ==== /DistBase + DIST/  --   bxtStartDistMail.sh -v -n showRun -i startObjectGen distribution .
***    ========  /Key ~/BUE Mailing Objects/
****   ==== /Names/         --  nameProc.sh    -- seedNameDistProc.sh  -- ~/BUE/names
****   ==== /Distributions/ --  distProc.sh    -- seedNameDistProc.sh  -- ~/BUE/mailings/some/dist
***    ========  /Names/
**** ~basa/names   --- Will Have names Hierarchy with  "nameProc.sh" Based on seedNameDistProc.sh
**** ~basa/names/central  central/templates/nameProc.sh
****  /hss/vc/bbdbNames/central  /hss/vc/bbdbMailings/central

***    ========  /Mailings/
****   ~basa/mailings
****   ~basa/mailings/part/chapter/section
****    bystarMailingStart.sh  -- Pattern after seedPlone3NewProc.sh -- bystarPlone3Start.sh
****    objectType=text - html - lcntHtml
****    Each Mailing is named in mailingName -- Typically part-chapter-section
****    mailing.el  is generated with part-chapter-section
****    mailing.el  is optionally loaded
****    msend-part-chapter-section is entry point
****    ~basa/mailings/bystar/announce/digitalEcosystem/dists/tag1 -- Each Dist Will have "distProc.sh" Based on seedNameDistProc.sh
****    A distProc.sh is associated with a mailing through hierarch or otherwise and
****    ~basa/mailings/bystar/announce/digitalEcosystem/curDist  -- Current Distribution
****    ~basa/mailings/logs
***    ========  /Mailings - Transition/
****    Take /usr/devenv/bbdbNames/bin/bbdbMailings.sh -- Absorb It into seedMailingProc.sh
****    Current Transitional Example: /usr/devenv/bbdbNames/MailingsKeep/iran/bystar/audienceRequestIran/dists/2012-1/bbdbNamesProc.sh
***    ======== /Distributions/
****    Distributions are based in mailing/dist eg: ~basa/mailings/part/chapter/section/dist


####+BEGIN: blee:bxPanel:foldingSection :outLevel 1 :sep t :title "OLD BLEE-MTDT-PKG -- Elisp Design" :anchor "" :extraInfo ""
* /[[elisp:(beginning-of-buffer)][|^]]  [[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]] [[elisp:(delete-other-windows)][|1]]/
* [[elisp:(show-all)][(>]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_       [[elisp:(outline-show-subtree+toggle)][| *OLD BLEE-MTDT-PKG -- Elisp Design:* |]]    [[elisp:(org-shifttab)][<)]] E|
####+END
** Overview And Direction:
There are two layers
MTDT consists of:
1)   mtdt-lib.el    --- General purpose libraries
2)   mtdt-newMail.el   --- Initial outgoing email -- User Interface (currently mtdt-if.el)
3)   mtdt-contextedMail.el  --- Replies and Forwards
User documentation is primarily limited to mtdt-if.el

The primary abstractions are:
- A Mailing-Base Directory -- in theory this can be  anywhere.
  Usually created with bueMailingSetup.sh
  For ephemera compose, typically we have {en,fa}/fromLineTag/{plainText,tex,tex-pdf}
- A Mailing-File -- Mailing-File -- called: content.mail or content.msgOrg
  A Mailing is a read-only static representation of parameters of an outgoing email. It is a single file.
- A Mailing-Buffer -- A mail buffer, created using Mailing-File. Not the buffer of Mailing-File.
- A Mailing-Ext-Src --latex src for content editing
- Mailing Setup -- Converts Mailing-File to set of Mailing-Commands, then can be used for Mailing-Execution.
- Mailing-Commands -- defmacro generated as some of:

  1) mtdt:compose/mailingName    -- Creates an unsent buffer for content editing with perhaps ephemera extSrc
  2) mtdt:originate/mailingName  -- Creates an unsent buffer for header editing without ephemera extSrc
  3) mtdt:redraft/mailingName    -- subjetc to ctl u edits the current "unsent mail"
  4) mtdt:batch/mailingName
  5) x bbdb
  6) web-url web-mailto

     Some of these commands receive interactive args that are
     implemented in the old bxms-compose-from-base.
     TODO: these need to be revisited and documented.

  As to which of the above is generated is controlded by :type field of X-MailingParams:
- X-Mailing-Name: is used for creation of Mailing-Commands
- X-MailingParams: is in the format of literal named args
  :extSrc "." -- :extSrc nil
     When :extSrc is nil --- Mailing-File is self contained
     When :extSrc is path --- Some of the content of Mailing-File comes from content of path
  :type is one of 'compose | 'redraft | 'dynamic
     When :type id 'compose --- The mailing can also be editable
        The following commands are generated:
        mtdt:compose, mtdt:originate/mailingName,
     When :type id 'redraft --- content of mailing-file can be applied to current unsent buffer
        Foe example re-uses current unsent buffer's subject line ... Used for replying
        The following commands are generated:
        mtdt:compose/mailingName, mtdt:originate/mailingName
     When :type id 'dynamic --- indicates that the mailing is a form letter
        For example re-uses current unsent buffer's subject line ... Used for replying
        The following commands are generated:
        mtdt:originate/mailingName
- Mailing-Invocation -- The user's act of executing a Mailing-Command is called: Mailing-Invocation.
  A mailing can be invoked in different ways and the fact of specific invocation is captured
  in the 822-bus with "X-mailing-invocation: commandNameComesHere"
  X-Mailing is used for mailings preparation. X-mailing is used during processing.
- Mailing-Invocation-Args -- Each Mailing-Invocation can carry with it a number of elisp command args.
  The args are then carrierd through mtdt-if.el and passed to the old bxms-compose-from-base
- An Unsent-Mailing --
  An Unsent-Mailing is a buffer generated from a Mailing-File that can be sent.
- :extSrc param of X-MailingParams is used for External-Source-Content -- LaTeX-Body
- mailing.ttytex/mailing.mastex -- content of a mailing.

B|

####+BEGIN: blee:bxPanel:separator :outLevel 1
* /[[elisp:(beginning-of-buffer)][|^]] [[elisp:(blee:menu-sel:navigation:popupMenu)][==]] [[elisp:(delete-other-windows)][|1]]/
####+END
####+BEGIN: blee:bxPanel:evolution
* [[elisp:(show-all)][(>]] [[elisp:(describe-function 'org-dblock-write:blee:bxPanel:evolution)][dbf]]
*                                   _━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━_
* [[elisp:(show-all)][|n]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_     [[elisp:(org-cycle)][| *Maintenance:* | ]]  [[elisp:(blee:menu-sel:agenda:popupMenu)][||Agenda]]  <<Evolution>>  [[elisp:(org-shifttab)][<)]] E|
####+END
####+BEGIN: blee:bxPanel:foldingSection :outLevel 2 :title "Notes, Ideas, Tasks, Agenda" :anchor "Tasks"
** [[elisp:(show-all)][(>]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_       [[elisp:(outline-show-subtree+toggle)][| /Notes, Ideas, Tasks, Agenda:/ |]] <<Tasks>>   [[elisp:(org-shifttab)][<)]] E|
####+END
*** TODO Some Idea
####+BEGIN: blee:bxPanel:evolutionMaintainers
** [[elisp:(show-all)][(>]] [[elisp:(describe-function 'org-dblock-write:blee:bxPanel:evolutionMaintainers)][dbf]]
** [[elisp:(show-all)][|n]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_       [[elisp:(org-cycle)][| /Bug Reports, Development Team:/ | ]]  <<Maintainers>>
***  Problem Report                       ::   [[elisp:(find-file "")][Send debbug Email]]
***  Maintainers                          ::   [[bbdb:Mohsen.*Banan]]  :: http://mohsen.1.banan.byname.net  E|
####+END
* B|
####+BEGIN: blee:bxPanel:footerPanelControls
* [[elisp:(show-all)][(>]] ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
* /Footer Controls/ ::  [[elisp:(blee:bnsm:menu-back)][Back]]  [[elisp:(toggle-read-only)][toggle-read-only]]  [[elisp:(show-all)][Show-All]]  [[elisp:(org-shifttab)][Cycle Glob Vis]]  [[elisp:(delete-other-windows)][1 Win]]  [[elisp:(save-buffer)][Save]]   [[elisp:(kill-buffer)][Quit]]  [[elisp:(org-shifttab)][<)]] E|
####+END
####+BEGIN: blee:bxPanel:footerOrgParams
* [[elisp:(show-all)][(>]] [[elisp:(describe-function 'org-dblock-write:blee:bxPanel:footerOrgParams)][dbf]]
* [[elisp:(show-all)][|n]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_     [[elisp:(org-cycle)][| *= Org-Mode Local Params: =* | ]]
#+STARTUP: overview
#+STARTUP: lognotestate
#+STARTUP: inlineimages
#+SEQ_TODO: TODO WAITING DELEGATED | DONE DEFERRED CANCELLED
#+TAGS: @desk(d) @home(h) @work(w) @withInternet(i) @road(r) call(c) errand(e)
#+CATEGORY: N:mtdt-conceptAndDesign
####+END
####+BEGIN: blee:bxPanel:footerEmacsParams :primMode "org-mode"
* [[elisp:(show-all)][(>]] [[elisp:(describe-function 'org-dblock-write:blee:bxPanel:footerEmacsParams)][dbf]]
* [[elisp:(show-all)][|n]]  _[[elisp:(blee:menu-sel:outline:popupMenu)][±]]_  _[[elisp:(blee:menu-sel:navigation:popupMenu)][Ξ]]_     [[elisp:(org-cycle)][| *= Emacs Local Params: =* | ]]
# Local Variables:
# eval: (setq-local ~selectedSubject "noSubject")
# eval: (setq-local ~primaryMajorMode 'org-mode)
# eval: (setq-local ~blee:panelUpdater nil)
# eval: (setq-local ~blee:dblockEnabler nil)
# eval: (setq-local ~blee:dblockController "interactive")
# eval: (img-link-overlays)
# eval: (set-fill-column 115)
# eval: (blee:fill-column-indicator/enable)
# eval: (bx:load-file:ifOneExists "./panelActions.el")
# End:

####+END
